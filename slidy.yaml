slidy: '1'

scripts:
  start: flutter run # -d <device_id>
  start-fresh: flutter run --no-fast-start # -d <device_id>
  devices: flutter devices
  install: flutter pub get
  build: flutter pub run build_runner build --delete-conflicting-outputs
  watch: flutter pub run build_runner watch --delete-conflicting-outputs
  uninstall: adb shell && pm uninstall org.tether.tether # (sometimes doesn't uninstall when debugging?)
  # format: flutter dartfmt --line-length=120 .

  # generate icon launcher
  generate-icon: flutter pub run flutter_launcher_icons -f flutter_launcher_icon.yaml

  build-release-ios: flutter build ipa  --release # open under xcworkspace, not xcodeproj

  build-android-release: flutter build apk --flavor prod -t lib/main_prod.dart --release
  build-android-demo: flutter build apk --flavor demo -t lib/main_demo.dart --release

  # mobile development commands
  setup-ios: pod install && flutter precache --ios
  clean-ios: xcrun simctl delete unavailable
  list-ios: xcrun simctl list devices
  boot-ios: xcrun simctl boot #<device_id>
  list-android: emulator -list-avds
  boot-android: emulator -avd #<device_id>
  inspect-android: adb shell && run-as org.tether.tether # cache inspection
  log-android: adb logcat ActivityManager:I flutter:I *:S

  # configuration and troubleshooting
  init-repo: git submodule update --init --recursive
  reset-xcode: defaults delete com.apple.dt.Xcode
  dev-tools: flutter pub global run devtools
  cache-clean: pub cache repair && flutter pub cache repair
  upgrade-deps: flutter pub upgrade --major-versions
  init-platform-dirs: flutter create --org org.tether.tether
  enable-desktop: flutter config --enable-macos-desktop --enable-linux-desktop # --no-enable-<type>-desktop

  
